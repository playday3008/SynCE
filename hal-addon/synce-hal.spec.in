%define prefix   /usr
%define name     synce-hal
%define rel      1

Summary: SynCE: HAL add-on
Name: %{name}
Version: YOU_DID_NOT_RUN_THE_BOOTSTRAP_SCRIPT
Release: %{rel}
License: MIT
Group: Applications/Communications
Source: %{name}-%{version}.tar.gz
URL: http://synce.sourceforge.net/
Distribution: SynCE RPM packages
Vendor: The SynCE Project
Packager: David Eriksson <twogood@users.sourceforge.net>
#Buildroot: %{_tmppath}/%{name}-%{version}-%{release}-root
Buildroot: %{_tmppath}/synce-root
Requires: synce-libsynce synce-dccm synce-serial

%description
synce-hal is part of the SynCE project:

  http://synce.sourceforge.net/

This is a HAL add-on for automatically establishing a connection
with Pocket PC devices and storing some of the device's
properties in the HAL device list.

HAL stands for "Hardware Abstraction Layer" and is a Freedesktop.org
project for "making hardware just work".

%prep
%setup

%build
%configure --with-libsynce=$RPM_BUILD_ROOT%{prefix}
#--with-libsynce=%{prefix}
make

%install
%makeinstall

%files
%defattr(-,root,root)
%doc README LICENSE
%{prefix}/bin/dccm
%{prefix}/bin/synce-sound
%{_mandir}/man1/dccm.*
%{_mandir}/man1/synce-sound.*




Introduction - purpose :
========================

SynCE is a package that aims to provide a complete synchronization solution for handhelds,
 PDA, mobile devices in general.


At the heart of SynCE is an implementation of Microsoft's RAPI API (Remote API), which is 
the basis of the communication between Microsoft Windows CE, and Microsoft Windows family
of Operating Systems.

This API is the first layer upon which some synchronisation services are implemented.


The first step of this project is to provide an implementation of the client side of the
RAPI API, along with some command-line and GUI tools.
At this point, communication will be possible between a Windows CE device (PPC, HPC, ...)
and an *nix computer (unix-like, as Linux, *BSD,... )

Next steps will include the implementation of the server side, so that this API could be
implemented in embedded Linux or *BSD platforms, to allow them to synchronize either
with a Windows PC, or with an *nix computer.




Layout :
========

This package is divided in the following blocks :

- libwine : 		A 'Windows Emulation' library : a very little subset of Wine / 
			Wine-like functions needed.
			(could be replaced with a dependancy on Wine one day)
	    
- libchunk : 		A low-level communication library, on top of TCP/IP

- client/asyncd :	A client-side (computer) daemon to keep the connection up

- client/librapi :	An implementation of the client side of RAPI

- client/tools :	Some command-line and GUI tools

- server/asyncd :	(not existing yet)

- server/librapi :	(not existing yet)





Installation - Client ( Your computer is acting as a Client, and talks with a Windows CE device)

0) unpack the archive in <Synce ROOT>.

1) configure, make, [make install] : very standard (not ready for installation yet)

2) add the following line to /etc/services :
asyncd          5679/tcp                        # ActiveSync KeepAlive

3) configure your Inetd super-daemon (either inetd, or xinetd), so that client/asyncd is
 fired whenever someone initiates a TCP connect on port 5679 on your computer :

* inetd : add the following line to /etc/inetd.conf
-------------------------------------------------------------
asyncd      stream  tcp     nowait  root    <SynCE ROOT>/client/asyncd/asyncd asyncd
-------------------------------------------------------------


* xinetd : add the following file (asyncd) to /etc/xinetd.d :
-------------------------------------------------------------
# default: on
service asyncd
{
    flags           = REUSE NOLIBWRAP
    socket_type     = stream
    wait            = no
    user            = root
    server          = <SynCE ROOT>/client/asyncd/asyncd
    log_on_failure  += USERID
    only_from       = 127.0.0.1 192.168.131.0/24
    disable         = no
}
-------------------------------------------------------------

(xinetd : replace the line 'only_from' with your local network mask (the one where your
CE device will be calling from, or disable it completly)


4) if you want to do serial link communication, create the following file (cedevice) in
 /etc/ppp/peers :
-------------------------------------------------------------
/dev/ttyS1 115200 modem
connect '/usr/sbin/chat -v -f <SynCE ROOT>/client/config/cedevice.chat'
noauth
local
192.168.131.102:192.168.131.201
ms-dns 192.168.131.102
lcp-echo-failure 2
lcp-echo-interval 2
linkname cedevice
-------------------------------------------------------------

(Customize the serial port, the IP addresses (the first one, 192.168.131.102 will be the address
of your computer in the PPP link, and 192.168.131.101 will be the address of your
device in the PPP link) )

For infrared communication (IrDA) or direct network connection, YMMV.

5) Now start the communication :
As root do :

(host)> pppd call cedevice

This should start your Windows CE device, and start a PPP link.
Check that your PPP configuration shows the link, and check that 'asyncd' has
created a file '/tmp/cedevice' which contains the informations on your device (
IP address, brand, etc...)

6) Now try the tools :

As user, go in client/tools/* and try the different utilities.



That's all for the moment.


Ludovic LANGE <ludovic.lange@free.fr>
http://synce.sourceforge.net